<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../ps-root-service/ps-root-service.html">
<link rel="import" href="../ps-image/ps-image.html">
<!--
Element displaying a PhotoShelter.com collection.

##### Example

    <ps-collection></ps-collection>

@element ps-image
@blurb Element displaying a PhotoShelter.com collection.
@status alpha
@homepage #
-->

<polymer-element name="ps-collection" attributes="collection U_ID C_ID">
  <template>
    <style>
    :host {
      display: block;
    }
    .child {
      box-sizing: border-box;
      float: left;
      width: 25%;
      padding: 10px;
      line-height: 1.5;
    }
    .child:nth-of-type(4n + 1) {
      clear: both;
    }
    </style>

    <template if="{{!!U_ID}}">
      <ps-root-service id="service-root-{{I_ID}}" root="{{collection}}" U_ID='{{U_ID}}' extends="{{extends}}"></ps-root-service>
    </template>

    <template if="{{!!collection}}">
      <template repeat="{{child in collection}}" id="children">
        <div class="child">
          <ps-image image="{{child.KeyImage}}" sizeType="fill" sizing="relative"></ps-image>
          <h4>{{child.name}}</h4>
        </div>
      </template>
    </template>

  </template>

  <script>
  Polymer('ps-collection', {
    /**
     * The `U_ID` attribute is the user_id to display root collections.
     *
     * @attribute U_ID
     * @type string
     * @default ''
     */
    U_ID: '',
    created: function() {
      /**
       * The `extends` attribute outlines the extends of the ps-image-service tag to support the content delivered.
       *
       * @attribute extends
       * @type array
       * @default ["KeyImage"]
       */
      this.extends = [
        "KeyImage",
        "ImageLink"
      ];
    }
  });
  </script>
</polymer-element>

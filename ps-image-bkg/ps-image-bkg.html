<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../ps-image-service/ps-image-service.html">
<!--
Element displaying a PhotoShelter.com image as a background.

##### Example

    <ps-image-bkg></ps-image-bkg>

@element ps-image-bkg
@blurb Element displaying a PhotoShelter.com image as a background.
@status alpha
@homepage #
-->

<polymer-element name="ps-image-bkg" attributes="image I_ID">
  <template>
    <style>
    :host {
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }
    *, *:before, *:after {
      -webkit-box-sizing: inherit;
      -moz-box-sizing: inherit;
      box-sizing: inherit;
    }
    .image {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-position: center center;
      background-repeat: no-repeat;
      background-size: contain;
    }
    </style>

    <template if="{{!!I_ID}}">
      <ps-image-service id="service-image-link-{{I_ID}}" image="{{image}}" I_ID='{{I_ID}}' extends="{{extends}}"></ps-image-service>
    </template>

    <template if="{{!!image}}">
      <div class="image" style="background-image: url({{image.ImageLink.base}}/{{I_ID}}/sec={{image.ImageLink.token}}/fit=1440x1440)"></div>
    </template>
    
  </template>

  <script>
  Polymer('ps-image-bkg', {
    /**
     * The `I_ID` attribute is the image_id to be displayed.
     * 
     * @attribute I_ID
     * @type string
     * @default ''
     */
    I_ID: '',
    created: function() {
      /**
       * The `image` attribute defines the PhotoShelter image to be displayed.
       * 
       * @attribute image
       * @type object
       * @default {}
       */
      this.image = {};
      /**
       * The `extends` attribute outlines the extends of the ps-image-service tag to support the content delivered.
       * 
       * @attribute extends
       * @type array
       * @default ["ImageLink"]
       */
      this.extends = [
        "ImageLink"
      ];
    },
  });
  </script>
</polymer-element>
